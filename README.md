Задание №1_ Dockerfile

Инструкция

Есть проект:

https://bb.ibs.ru/scm/de/docker-course-demo.git


Проект представляет собой Springboot-приложение, позволяющее создавать профиль
пользователя (Profile), а также получать профиль по идентификатору или список
всех сохраненных профилей.

В src/main/resources/application.yml

Указаны 3 переменные:

DB_URL - урл подключения к базе данных

DB_USER - пользователь для подключения к бд

DB_PASS - пароль для подключения к бд

А также указан порт приложения,

Условия задания:

1. Написать Dockerfile, который будет собирать данное
приложение с помощью Maven, а после запускать
контейнер

2. Передача настроек для DB_URL, DB_USER, DB_PASS должны
быть заполнены НЕ в Dockerfile, а передаваться в качестве параметра при запуске контейнера. Через аргументы подобного вида: -e DB_USER=user

3. Запустить контейнер и проверить успешность выполнения
задания. (заглянуть в логи)

Отправить на проверку можно как оптимизированный, так и неоптимизированный Dockerfile.
Запуск оптимизированного через
ENTRYPOINT ["java", "org.springframework.boot.loader.JarLauncher"]

! ! !

Приложение, к сожалению, не поднимется, т.к. у нас с Вами еще нет запущенной БД,
однако, нужно обратить внимание, с какой ошибкой упадет контейнер.

Ошибка: Driver org.postgresql.Driver claims to not accept jdbcUrl,
${DB_URL}

Успешно: Connection to localhost:5432 refused.


В ответе прикрепляйте сам Dockerfile (во вложении) и команды docker run, docker
build (в сообщении к заданию).

!!! На данный момент в систему невозможно прикрепить файлы без расширения,
следовательно, для сдачи, добавьте расширение Docker-файлу. Например,
Dockerfile.txt